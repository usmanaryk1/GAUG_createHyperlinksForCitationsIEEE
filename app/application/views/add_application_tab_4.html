<div class="row"  ng-init="addEmployee.tab3DataInit()">
    <div class="col-sm-12">
        <div class="panel panel-default">
            <div class="panel-body">
                <fieldset ng-disabled="addEmployee.viewOnly">
                    <div class="row"  ng-if="!addEmployee.viewOnly">
                        <div class="col-sm-12">
                            <button class="btn btn-success mar_rg5 mar_lf5 mar_rg5 pull-right" ng-click="addEmployee.setFromNext('tab3');addEmployee.saveEmployee();">
                                Save Changes
                            </button>
                            <button class="btn btn-white mar_rg5 pull-right" ng-click="addEmployee.setFromNext('close');addEmployee.saveEmployee();">
                                Save & Close
                            </button>
                            <button class="btn btn-black mar_rg5 pull-right" ng-if="addEmployee.employee.status != null && addEmployee.employee.status !== 'submitted'"
                                    ng-click="addEmployee.setFromNext('submit');addEmployee.saveEmployee();">
                                Submit Application
                            </button>
                        </div>
                    </div>
                    <div class="form-group-separator">
                    </div>
                    <div class="form-group" >
                        <div class="col-md-12">
                            <div class="panel panel-default panel-table" style="padding: 0;" id="applicationWorkExperiences">
                                <div class="panel-heading" style="border-bottom: none;">
                                    <div class="row">
                                        <div class="col col-xs-6">
                                            <h3>Work Experiences</h3>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <form class="form-horizontal validate" id="add_work_experience_form" novalidate="" name="add_work_experience_form" role="form" ng-submit="addEmployee.addWorkExperienceLine()">
                                        <table class="table table-striped table-bordered table-list table-attachments">
                                            <thead>
                                                <tr>
                                                    <th class="text-center col-md-2"> Employer Name </th>
                                                    <th class="text-center col-md-2"> Job Title </th>
                                                    <th class="text-center col-md-2"> Responsibilities </th>
                                                    <th class="text-center col-md-2"> Reason For Leaving </th>
                                                    <th class="text-center col-md-3"> Duration </th>
                                                    <th class="text-center col-md-1" ng-if="addEmployee.employee.status === 'inprogress'"> <em class="fa fa-cog"> </em></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-if="addEmployee.employee.status === 'inprogress'">
                                                    <td style="vertical-align: top"> 
                                                        <div class="col-md-12 mar_bt0">
                                                            <div class="form-group">
                                                                <input class="form-control" name="employerName" id="school"
                                                                       type="text" ng-model="addEmployee.workExperienceLine.employerName"  ng-required='true'> 
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="vertical-align: top"> 
                                                        <div class="col-md-12 mar_bt0">
                                                            <div class="form-group">
                                                                <input class="form-control" name="jobTitle" id="jobTitle"
                                                                       type="text" ng-model="addEmployee.workExperienceLine.jobTitle"  ng-required='true'> 
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="vertical-align: top" > 
                                                        <div class="col-md-12 mar_bt0">
                                                            <div class="form-group">
                                                                <textarea class="form-control" ng-model="addEmployee.workExperienceLine.responsibilities" cols="5"
                                                                          id="responsibilities" name="responsibilities"></textarea>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="vertical-align: top"> 
                                                        <div class="col-md-12 mar_bt0">
                                                            <div class="form-group">
                                                                <textarea class="form-control" ng-model="addEmployee.workExperienceLine.reasonForLeaving" cols="5"
                                                                          id="reasonForLeaving" name="reasonForLeaving"></textarea>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="vertical-align: top">
                                                        <div class="col-sm-6">
                                                            <div class="form-group sm-layout-align">
                                                                <div class="input-group">
                                                                    <input type="text" id="fromdate" name="fromdate" class="form-control datepicker" enabled='M' data-format="mm/dd/yyyy" ng-model="addEmployee.workExperienceLine.startDate"
                                                                           max-date="addEmployee.employmentMaxDate" placeholder="From"
                                                                           ng-required="true"/>
                                                                    <div class="input-group-addon"> <a href="#"><i class="linecons-calendar"></i></a> </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-6 ">
                                                            <div class="form-group sm-layout-align">
                                                                <div class="input-group">
                                                                    <input type="text" id="todate" name="todate" class="form-control datepicker" enabled='S' data-format="mm/dd/yyyy" ng-model="addEmployee.workExperienceLine.endDate" min-date="addEmployee.workExperienceLine.startDate" max-date='addEmployee.todayDate'
                                                                           ng-change="addEmployee.setEmploymentMaxDate()" placeholder="To"/> 
                                                                    <div class="input-group-addon"> <a href="#"><i class="linecons-calendar"></i></a> </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td align="center"  style="vertical-align: top">
                                                        <button class="btn btn-info" style="width:auto;" type="submit">
                                                            Add
                                                        </button>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="workExperience in addEmployee.workExperiences">
                                                    <td> {{workExperience.employerName}}</td>
                                                    <td> {{workExperience.jobTitle}} </td>
                                                    <td> {{workExperience.responsibilities}}</td>
                                                    <td> {{workExperience.reasonForLeaving}} </td>
                                                    <td> {{workExperience.startDate}} - {{workExperience.endDate}} </td>
                                                    <td  align="center" ng-if="addEmployee.employee.status === 'inprogress'">                                                    
                                                        <a class="btn icon-left fa fa-trash-o delete_button"
                                                           ng-click="addEmployee.removeWorkExperienceLine(workExperience)" tooltip="Delete"><span class="ed_b"></span></a>                                                    
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </form>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-12">
                            <div class="panel panel-default panel-table" style="padding: 0;" id="applicationProfessionalReference">
                                <div class="panel-heading" style="border-bottom: none;">
                                    <div class="row">
                                        <div class="col col-xs-6">
                                            <h3>Professional References</h3>
                                            <p class="description">
                                                please add 2 professional references before application submission
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <form class="form-horizontal validate" id="add_professional_reference_form" novalidate="" name="add_professional_reference_form" role="form" ng-submit="addEmployee.addProfessionalReferenceLine()">
                                        <table class="table table-striped table-bordered table-list table-attachments">
                                            <thead>
                                                <tr>
                                                    <th class="text-center col-md-4"> Name </th>
                                                    <th class="text-center col-md-2"> Telephone </th>
                                                    <th class="text-center col-md-5"> Address </th>
                                                    <th class="text-center col-md-1" ng-if="addEmployee.employee.status === 'inprogress'"> <em class="fa fa-cog"> </em></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-if="addEmployee.employee.status === 'inprogress'">
                                                    <td style="vertical-align: top"> 
                                                        <div class="col-md-12 mar_bt0">
                                                            <div class="form-group">
                                                                <input class="form-control" name="name" id="name"
                                                                       type="text" ng-model="addEmployee.professionalReferenceLine.name"  ng-required='true'> 
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="vertical-align: top"> 
                                                        <div class="col-md-12 mar_bt0">
                                                            <div class="form-group">
                                                                <input class="form-control" name="telephone" id="telephone" numbers-only="true" maxlength="10"
                                                                       type="text" ng-model="addEmployee.professionalReferenceLine.telephone"  ng-required='true'> 
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="vertical-align: top" > 
                                                        <div class="col-md-12 mar_bt0">
                                                            <div class="form-group">
                                                                <textarea class="form-control" ng-model="addEmployee.professionalReferenceLine.address" cols="5"
                                                                          id="address" name="address" required></textarea>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td align="center"  style="vertical-align: top">
                                                        <button class="btn btn-info" style="width:auto;" type="submit">
                                                            Add
                                                        </button>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="professionalReference in addEmployee.professionalReferences">
                                                    <td> {{professionalReference.name}}</td>
                                                    <td> {{professionalReference.telephone}} </td>
                                                    <td> {{professionalReference.address}}</td>
                                                    <td align="center" ng-if="addEmployee.employee.status === 'inprogress'">                                                    
                                                        <a class="btn icon-left fa fa-trash-o delete_button"
                                                           ng-click="addEmployee.removeProfessionalReferenceLine(professionalReference)" tooltip="Delete"><span class="ed_b"></span></a>                                                    
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group-separator">
                    </div>
                </fieldset>
                <div class="row">
                    <div class="col-sm-12">
                        <button class="btn btn-info green_bt pull-right" style="width:auto;" ng-click="addEmployee.setFromNext('tab5');addEmployee.saveEmployee();">
                            Next »
                        </button>
                        <button class="btn btn-info green_bt pull-right" style="width:auto;" ng-click="addEmployee.setFromNext('tab3');addEmployee.saveEmployee();">
                            « Previous
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    // validate
    customJqueryValidation();
    jQuery(document).ready(function ($) {
        setTimeout(function () {
            $(".fade-in-effect").addClass('in');
        }, 1);
    });
</script>
