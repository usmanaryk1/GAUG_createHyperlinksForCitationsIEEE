
<div class="page-body"> 


    <!--PAGE TITLE START -->
    <div class="page-title">
        <div class="title-env">
            <h1 class="title" ng-if="!dAttendance.isWorksiteTimesheet">Daily Attendance</h1>
            <h1 class="title" ng-if="dAttendance.isWorksiteTimesheet">Worksite Timesheet</h1>            
            <p class="description" ng-if="!dAttendance.isWorksiteTimesheet">Daily Attendance</p>
            <p class="description" ng-if="dAttendance.isWorksiteTimesheet">Worksite Timesheet</p>
        </div>
    </div>
    <!--PAGE TITLE END -->

    <div class="row">
        <div class="col-sm-12">
            <div class="panel panel-default">
                <div class="panel-body">

                    <form class="form-horizontal validate" role="form">
                        <div class="row">
                            <div class="col-sm-12">

                                <div class="col-sm-8 pull-right pad0 wd_full">
                                    <div class="form-group" ng-if="!dAttendance.isWorksiteTimesheet">
                                        <label class="col-sm-3 control-label pad_lf0">Employee Name</label>
                                        <div class="col-sm-9"> 
                                            <!--                                            <script type="text/javascript">
                                            //                                                jQuery(document).ready(function($)
                                            //                                                {
                                            //                                                    $("#sboxit-2").selectBoxIt().on('open', function()
                                            //                                                    {
                                            //                                                        // Adding Custom Scrollbar
                                            //                                                        $(this).data('selectBoxSelectBoxIt').list.perfectScrollbar();
                                            //                                                    });
                                            //                                                });
                                                                                        </script>-->
                                            <script type="text/javascript">
                                                        jQuery(document).ready(function ($)
                                                {
                                                setTimeout(function () {
                                                $("#sboxit-2").select2({
//                                                        minimumResultsForSearch: -1,
                                                placeholder: 'Select Coordinator...',
//                                                        minimumInputLength: 1,
//                                                        placeholder: 'Search',
                                                }).on('select2-open', function ()
                                                {
                                                // Adding Custom Scrollbar
                                                $(this).data('select2').results.addClass('overflow-hidden').perfectScrollbar();
                                                });
                                                }, 200);
                                                });</script>
                                            <select class="form-control" name ="sboxit-2" id="sboxit-2" ng-model="dAttendance.searchParams.staffingCordinatorId" ng-options='emp.id as (emp.label) for emp in dAttendance.employeeList track by emp.id'>
                                                <option value="" selected hidden />
                                            </select>
                                            <!--                                            <div ng-show='dAttendance.searchParams.staffingCordinatorId == null && dAttendance.formSubmitted'>
                                                                                            <span style='color: #cc3f44;display: block;font-size: 12px;padding-top: 5px;'>Please select Employee Name.</span>
                                                                                        </div>-->
                                        </div>
                                    </div>
                                    <div class="form-group" ng-if="dAttendance.isWorksiteTimesheet" ng-class="{ 'validate-has-error':dAttendance.searchParams.workSiteId == null && dAttendance.formSubmitted}">
                                        <label class="col-sm-3 control-label pad_lf0">Worksite</label>
                                        <div class="col-sm-9">                                                                                         
                                            <select class="form-control" name ="worksiteDropdown" id="worksiteDropdown" ng-model="dAttendance.searchParams.workSiteId" ng-options='worksite.id as worksite.name for worksite in dAttendance.workSiteList'>
                                                <option value="" selected hidden />
                                            </select>                                                                                          
                                            <div ng-show='dAttendance.searchParams.workSiteId == null && dAttendance.formSubmitted'>
                                                <span style='color: #cc3f44;display: block;font-size: 12px;padding-top: 5px;'>Please select Worksite.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 pad0">

                                <div class="form-group col-sm-5 pull-left" ng-show="dAttendance.attendanceList.length">
                                    <label class="col-sm-4 control-label pull-left" style="min-width:110px;"><span style="float:left;">Show Entries</span></label>
                                    <div style="width:70px; float:left">
                                        <select class="form-control input-sm" ng-model="dAttendance.searchParams.limit">
                                            <option value="10">10</option>
                                            <option value="25">25</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-sm-7 pull-right wd_full">
                                    <div class="col-sm-6 pad0 wd_full">
                                        <div class="form-group">
                                            <label for="field-68" class="col-sm-3 control-label">From</label>
                                            <div class="col-sm-9">
                                                <div class="input-group">
                                                    <input type="text" id="field-68" class="form-control datepicker" data-format="mm/dd/yyyy" ng-model="dAttendance.searchParams.startDate" max-date="dAttendance.searchParams.endDate" name='fromDate' data-validate="required"  data-message-required="Please select From Date." required>
                                                    <div class="input-group-addon"> <a href="#"><i class="linecons-calendar"></i></a> </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6 pad0">
                                        <div class="form-group">
                                            <label for="field-69" class="col-sm-3 control-label">To</label>
                                            <div class="col-sm-9 pad_lf0">
                                                <div class="input-group">
                                                    <input type="text" id="field-69" class="form-control datepicker" data-format="mm/dd/yyyy" ng-model="dAttendance.searchParams.endDate" min-date="dAttendance.searchParams.startDate">
                                                    <div class="input-group-addon"> <a href="#"><i class="linecons-calendar"></i></a> </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 pad0">
                                <div class="col-sm-6 pull-right">

                                    <button type="submit" class="btn btn-info green_bt pull-right" style="width:auto;" ng-click="dAttendance.searchParams.pageNo = 1;
                                                dAttendance.searchParams.sortBy = 'date';
                                                dAttendance.searchParams.order = 'desc';
                                                dAttendance.commonFilter();
                                                dAttendance.formSubmitted = true">Review</button>
                                    <a ng-if="!dAttendance.isWorksiteTimesheet" href="#/app/manual_punch{{dAttendance.searchParams.staffingCordinatorId==null?'':'/employee/'+dAttendance.searchParams.staffingCordinatorId+'?lastPage='+dAttendance.lastPage}}" class="btn btn-info btn-single process_bt pull-right mar_rg5">Manual Punch</a>
                                    <a ng-if="dAttendance.isWorksiteTimesheet" href="#/app/manual_punch{{dAttendance.searchParams.workSiteId==null?'':'/worksite/'+dAttendance.searchParams.workSiteId+'?lastPage='+dAttendance.lastPage}}" class="btn btn-info btn-single process_bt pull-right mar_rg5">Manual Punch</a>
                                    <button class="btn btn-info btn-single gray_bt pull-right" type="button" ng-click="dAttendance.resetFilters()">
                                        Reset Filters
                                    </button>
                                    <div class="col-md-6 pull-right text-right pad0">
                                        <label>Attendance Tracker</label>
                                        <input type="checkbox" name="schedule" ng-model="dAttendance.searchParams.isSchedule" ng-change="dAttendance.resetCheckbox()">
                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>
                <hr/>
                <div ng-show="dAttendance.attendanceList.length" class="col-sm-12">
                    <div id="paginationButtons" class="text-right">
                        <span class="pull-left" style="margin-top: 15px;">Showing {{((dAttendance.searchParams.pageNo - 1) * dAttendance.searchParams.limit) + 1}} - {{(dAttendance.searchParams.pageNo * dAttendance.searchParams.limit) < dAttendance.totalRecords ? (dAttendance.searchParams.pageNo * dAttendance.searchParams.limit) : dAttendance.totalRecords}} of {{dAttendance.totalRecords}} records</span>
                        <dir-pagination-controls boundary-links="true" 
                                                 max-size="9"
                                                 template-url="app/tpls/dirPagination.tpl.html" pagination-id="dailyAttendancePagination" on-page-change="dAttendance.pageChanged(newPageNumber)"></dir-pagination-controls>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="dataTables_wrapper form-inline dt-bootstrap" style="margin-top: 10px;">
                    <div class="table-responsive border0 scroll search_hide">
                        <div ng-if="!dAttendance.searchParams.isSchedule">
                            <table id="example-1" class="table table-striped table-bordered  table-small-font" ng-if="dAttendance.attendanceList.length" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th width="13%" nowrap ng-class="dAttendance.applySortingClass('punchIn')" ng-click="dAttendance.applySorting('punchIn')" >Date In</th>
                                        <th width="13%" nowrap ng-class="dAttendance.applySortingClass('punchOut')" ng-click="dAttendance.applySorting('punchOut')" >Date Out</th>
                                        <th width="16%" nowrap ng-class="dAttendance.applySortingClass('employee')" ng-click="dAttendance.applySorting('employee')" >Employee Name</th>
                                        <th width="15%" ng-if="!dAttendance.isWorksiteTimesheet" nowrap ng-class="dAttendance.applySortingClass('patient')" ng-click="dAttendance.applySorting('patient')" >Patient Name</th>                                        
                                        <th width="8%" nowrap >Time In</th>
                                        <th width="8%" nowrap >Time Out</th>
                                        <th width="8%" nowrap>UT</th>
                                        <th nowrap>Actions</th>
                                        <th nowrap ng-if="!dAttendance.isWorksiteTimesheet">Signature</th>
                                    </tr>
                                </thead> 
                                <tbody>
                                    <tr pagination-id="dailyAttendancePagination" dir-paginate="timesheet in dAttendance.attendanceList| itemsPerPage: dAttendance.searchParams.limit"
                                        total-items="dAttendance.totalRecords"
                                        current-page="dAttendance.searchParams.pageNo">
                                        <th>
                                            {{timesheet.roundedPunchInTime|timesheetformat}} - {{timesheet.roundedPunchInTime|date :dateFormat}}
                                        </th>
                                        <th>
                                            <span ng-if='validNumber(timesheet.roundedPunchOutTime)'>
                                                {{timesheet.roundedPunchOutTime|timesheetformat}} - {{timesheet.roundedPunchOutTime|date :dateFormat}}
                                            </span>
                                            <span ng-if='!validNumber(timesheet.roundedPunchOutTime)'>Not Punched</span>
                                        </th>
                                        <td ng-click="dAttendance.openEmployeeModal(timesheet.employeeId.id)" style="cursor: pointer;">
                                            {{timesheet.employeeId.lName + ", " + timesheet.employeeId.fName + " " + timesheet.employeeId.middleInitial}}
                                        </td>
                                        <td ng-if="!dAttendance.isWorksiteTimesheet" ng-click="dAttendance.openPatientModal(timesheet.patientId, 'modal-6')" style="cursor: pointer;">
                                            {{timesheet.patientId.lName + ", " + timesheet.patientId.fName + " " + timesheet.patientId.middleInitial}}
                                        </td>
                                        <td>
                                            <!--Display green dot for matched GPS location-->
                                            <!--<div class="green_dot"></div>-->
                                            <!--Display red dot for not matched GPS location-->
                                            <!--<div class="red_dot"></div>-->
                                            <div ng-click="hide(this);" onclick="hide(this);" style="cursor: pointer;">
                                                <div ng-class="{
                                                        'black_dot'
                                                                :timesheet.punchInColorFlag== 'black', 'red_dot
                                                        ':timesheet.punchInColorFlag == 'red', 'green_dot':timesheet.punchInColorFlag == 'green'}"></div> 
                                                {{timesheet.roundedPunchInTime|date :timeFormat}}
                                            </div>
                                            <div style="display: none;">{{timesheet.punchInTimeInDate|date:'MM/dd/yyyy hh:mm a'}}</div>
                                        </td>
                                        <td>
                                            <div ng-if='validNumber(timesheet.roundedPunchOutTime)' style="cursor: pointer;" ng-click="hide(this);" onclick="hide(this);">
                                                <div ng-class="{
                                                            'black_dot'
                                                                    :timesheet.punchOutColorFlag == 'black', 'red_dot
                                                                    ':timesheet.punchOutColorFlag == '
                                                            red', 'green_dot':timesheet.punchOutColorFlag == 'green'}"></div>
                                                {{timesheet.roundedPunchOutTime|date :timeFormat}}
                                            </div>
                                            <div style="display: none;">{{timesheet.punchOutTimeInDate|date:'MM/dd/yyyy hh:mm a'}}</div>
                                            <span ng-if='!validNumber(timesheet.roundedPunchOutTime)'>Not Punched</span>
                                        </td>
                                        <td>
                                            <span ng-if='timesheet.ut' style="cursor: pointer;" ng-click="dAttendance.openUTModal(timesheet, 'utModal')">{{timesheet.ut}}</span>
                                            <span ng-if='timesheet.unauthorizedTime'> 
                                                {{timesheet.unauthorizedTime}} <i class="fa fa-check edit_button" style="cursor: pointer;" ng-click="hide(this);" onclick="hide(this);"></i>
                                                <div class="eventstoload" style="display:none;">
                                                    <div>
                                                        <div ng-if="timesheet.unauthorizedDocument">
                                                            <a style="color: blue;text-decoration: underline" ng-href="{{dAttendance.baseUrl}}file/download/{{dAttendance.companyCode}}/u/{{timesheet.unauthorizedDocument}}">
                                                                document{{timesheet.unauthorizedDocument|extension}}
                                                            </a>
                                                            <br/>
                                                        </div>
                                                        <b>Scheduled From</b><br/>
                                                        {{timesheet.scheduleId.roundedStartTime|date :timeFormat}} To {{timesheet.scheduleId.roundedEndTime|date :timeFormat}}<br/>
                                                        <b>Cleared For</b><br/>
                                                        <div ng-if="timesheet.forPayroll">Payroll<br/></div>
                                                        <div ng-if="timesheet.forBilling">Billing<br/></div>
                                                    </div>
                                                </div>
                                            </span>
                                        </td>
                                        <td class="action-td">
                                            <div class="action-btn">
                                                <a ng-if="timesheet.isEdited == true || hasAccess('EDIT_ALL_TIMESHEET')" class="btn icon-left fa fa-pencil edit_button" ng-href="#/app/{{timesheet.isMissedPunch===true?'edit_missed_punch':'edit_timesheet'}}/{{timesheet.id}}?lastPage={{dAttendance.lastPage}}" tooltip="Edit"><span class="ed_b"></span></a> 
                                                <a ng-if="timesheet.isEdited == true" class="btn icon-left fa fa-trash-o delete_button" href="" ng-click="dAttendance.openDeleteModal(timesheet, 'deleteModel')" tooltip="Delete"><span class="ed_b"></span></a> 
                                                <!--<a class="btn icon-left fa fa-search view_task_button" href="#"><span class="ed_b">Tasks </span></a>-->

                                                <a class=" btn fa fa-search view_task_button" ng-click="dAttendance.openTaskListModal('modal-3', 'lg', 'static', timesheet.tasks);" href="javascript:;" tooltip="View Tasks"><span class="ed_b"></span></a>
                                            </div>
                                        </td>
                                        <td ng-if="!dAttendance.isWorksiteTimesheet"><div ng-if="timesheet.isManualPunch === true">Admin Verified</div>
                                            <img ng-if="(!timesheet.isManualPunch || timesheet.isManualPunch === false) && timesheet.signature && timesheet.signature !== null" width="58" height="34" alt="Signature" ng-src="{{amazonSignatureUrl + dAttendance.companyCode + '/' + timesheet.signature}}"></td>
                                    </tr>
                                </tbody>
                            </table>
                            <div ng-if="(dAttendance.attendanceList == null || dAttendance.attendanceList.length == 0) && dAttendance.dataRetrieved">
                                <div ng-if="!dAttendance.isWorksiteTimesheet">
                                    No daily attendance available for selected coordinator.
                                </div>
                                <div ng-if="dAttendance.isWorksiteTimesheet">
                                    No timesheet available for selected worksite.
                                </div>
                            </div>
                            <div ng-if="dAttendance.criteriaSelected === false">
                                <div ng-if="!dAttendance.isWorksiteTimesheet">
                                    Please select all filters to review daily attendance.
                                </div>
                                <div ng-if="dAttendance.isWorksiteTimesheet">
                                    Please select all filters to review worksite timesheet.
                                </div>
                            </div>
                        </div>
                        <div ng-if="dAttendance.searchParams.isSchedule">
                            <table id="example-1" class="table table-striped table-bordered  table-small-font" ng-if="dAttendance.attendanceList.length" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th width="13%" nowrap ng-class="dAttendance.applySortingClass('date')" ng-click="dAttendance.applySorting('date')" >Schedule Date</th>
                                        <th width="16%" nowrap ng-class="dAttendance.applySortingClass('employee')" ng-click="dAttendance.applySorting('employee')">Employee Name</th>
                                        <th width="15%" ng-if="!dAttendance.isWorksiteTimesheet" nowrap ng-class="dAttendance.applySortingClass('patient')" ng-click="dAttendance.applySorting('patient')">Patient Name</th>
                                        <th width="10%" nowrap ng-class="dAttendance.applySortingClass('startTime')" ng-click="dAttendance.applySorting('startTime')">Start Time</th>
                                        <th width="10%" nowrap ng-class="dAttendance.applySortingClass('endTime')" ng-click="dAttendance.applySorting('endTime')" >End Time</th>
                                        <th width="10%" nowrap >Time In</th>
                                        <th width="10%" nowrap >Time Out</th>
                                        <th width="10%" nowrap>Actions</th>
                                    </tr>
                                </thead> 
                                <tbody>
                                    <tr pagination-id="dailyAttendancePagination" dir-paginate="timesheet in dAttendance.attendanceList| itemsPerPage: dAttendance.searchParams.limit"
                                        total-items="dAttendance.totalRecords"
                                        current-page="dAttendance.searchParams.pageNo" ng-style="{'background-color':timesheet.color}">
                                        <th>
                                            {{timesheet.startDate|timesheetformat}} - {{timesheet.startDate|date :dateFormat}}
                                        </th>
                                        <td ng-click="dAttendance.openEmployeeModal(timesheet.employee.id)" style="cursor: pointer;">
                                            <span ng-if="timesheet.employee">{{timesheet.employee.lName + ", " + timesheet.employee.fName + " " + timesheet.employee.middleInitial}}</span>
                                        </td>
                                        <td ng-if="!dAttendance.isWorksiteTimesheet" ng-click="dAttendance.openPatientModal(timesheet.patient, 'modal-6')" style="cursor: pointer;">
                                            <span ng-if="timesheet.patient">{{timesheet.patient.lName + ", " + timesheet.patient.fName + " " + timesheet.patient.middleInitial}}</span>
                                        </td>
                                        <th>
                                            {{timesheet.roundedStartTime|date :timeFormat}}
                                        </th>
                                        <th>
                                            {{timesheet.roundedEndTime|date :timeFormat}}
                                        </th>
                                        <th>
                                <div ng-click="hide(this);" onclick="hide(this);" style="cursor: pointer;">
                                    <div ng-class="{
                                                        'black_dot'
                                                                :timesheet.timeSheet.punchInColorFlag== 'black', 'red_dot
                                                        ':timesheet.timeSheet.punchInColorFlag == 'red', 'green_dot':timesheet.timeSheet.punchInColorFlag == 'green'}"></div> 
                                    {{timesheet.timeSheet.roundedPunchInTime|date :timeFormat}}
                                </div>
                                <div style="display: none;">{{timesheet.timeSheet.punchInTime|date:'MM/dd/yyyy hh:mm a'}}</div>
                                </th>
                                <th>
                                <div ng-if='validNumber(timesheet.timeSheet.roundedPunchOutTime)' style="cursor: pointer;" ng-click="hide(this);" onclick="hide(this);">
                                    <div ng-class="{
                                                            'black_dot'
                                                                    :timesheet.timeSheet.punchOutColorFlag == 'black', 'red_dot
                                                                    ':timesheet.timeSheet.punchOutColorFlag == '
                                                red
                                                ', 'green_dot':timesheet.timeSheet.punchOutColorFlag == 'green'}"></div>
                                    {{timesheet.timeSheet.roundedPunchOutTime|date :timeFormat}}
                                </div>
                                <div style="display: none;">{{timesheet.timeSheet.punchOutTime|date:'MM/dd/yyyy hh:mm a'}}</div>
                                <span ng-if='timesheet.timeSheet && !validNumber(timesheet.timeSheet.roundedPunchOutTime)'>Not Punched</span>
                                </th>
                                <th>
                                <div class="action-btn" ng-if="timesheet.timeSheet">
                                    <a ng-if="timesheet.timeSheet.isEdited == true || hasAccess('EDIT_ALL_TIMESHEET')" class="btn icon-left fa fa-pencil edit_button" ng-href="#/app/{{timesheet.timeSheet.isMissedPunch===true?'edit_missed_punch':'edit_timesheet'}}/{{timesheet.timeSheet.id}}?lastPage={{dAttendance.lastPage}}" tooltip="Edit"><span class="ed_b"></span></a> 
                                    <!--<a ng-if="timesheet.timeSheet.isEdited == true" class="btn icon-left fa fa-trash-o delete_button" href="" ng-click="dAttendance.openDeleteModal(timesheet.timeSheet, 'deleteModel')" tooltip="Delete"><span class="ed_b"></span></a>--> 
                                    <a class=" btn fa fa-search view_task_button" ng-click="dAttendance.openTaskListModal('modal-3', 'lg', 'static', timesheet.timeSheet.tasks);" href="javascript:;" tooltip="View Tasks"><span class="ed_b"></span></a>
                                </div>
                                <div class="action-btn" ng-if="!timesheet.timeSheet">
                                    <a href="#/app/manual_punch{{timesheet.scheduleId==null?'':'/schedule/'+timesheet.scheduleId+'?lastPage='+dAttendance.lastPage}}" ng-click="dAttendance.navigateToManualPunch(timesheet)">No Punch</a>
                                </div>
                                </th>
                                </tr>
                                </tbody>
                            </table>
                            <div ng-if="(dAttendance.attendanceList == null || dAttendance.attendanceList.length == 0) && dAttendance.dataRetrieved">
                                No schedule available for selected filters.
                            </div>
                            <div ng-if="dAttendance.criteriaSelected === false">
                                Please select all filters to review schedule.
                            </div>
                        </div>
                    </div>
                </div>
                <div ng-show="dAttendance.attendanceList.length">
                    <div id="paginationButtons" class="text-right">
                        <dir-pagination-controls boundary-links="true" 
                                                 max-size="9"
                                                 template-url="app/tpls/dirPagination.tpl.html" pagination-id="dailyAttendancePagination" on-page-change="dAttendance.pageChanged(newPageNumber)"></dir-pagination-controls>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal 7 (Ajax Modal)-->
<script type="text/ng-template" id="modal-3">
    <div class="modal-header">
    <h4 class="modal-title">Task List</h4>
    </div>

    <div class="modal-body">
    <div class="row">

    <div class="col-sm-12" ng-repeat="task in taskListModal.taskList" ng-if="taskListModal.taskList!=null && taskListModal.taskList.length>0">
    <div>
    {{task.companyTasksId.task}} <span ng-show="task.value!=null && task.value.toLowerCase()!='true' && task.value.toLowerCase()!='false'">- {{task.value}}</span>
    </div>
    </div>
    <div class="col-sm-12" ng-if="taskListModal.taskList==null || taskListModal.taskList.length==0">
    No tasks are available.

    </div>
    </div>
    </div>

    <div class="modal-footer">
    <button type="button" class="btn btn-white" ng-click="taskListModal.close();">Close</button>
    </div>
</script>
<script type="text/ng-template" id="deleteModel">
    <div class="modal-header">		
    <h4 class="modal-title">{{deletePunchModal.punchObj.punchInTime|timesheetformat}} - {{deletePunchModal.punchObj.punchInTime|date :dateFormat}} - {{deletePunchModal.punchObj.punchInTime|date :timeFormat}} to {{deletePunchModal.punchObj.punchOutTime|date :timeFormat}}</h4>
    </div>

    <div class="modal-body">

    Are you sure you want to delete this Punch record?

    </div>

    <div class="modal-footer">
    <button type="button" class="btn btn-success" ng-click="deletePunchModal.delete(deletePunchModal.punchObj);">Yes</button>
    <button type="button" class="btn btn-red" ng-click="deletePunchModal.dismiss();">No</button>
    </div>
</script>
<script type="text/ng-template" id="utModal">
    <form class="validate form-horizontal" name="utForm" id="ut_form" >
    <div class="modal-header">
    <button type="button" class="close" ng-click="utModal.cancel();" aria-hidden="true">&times;</button>
    <h4 class="modal-title">Unauthorized Time</h4>
    </div>

    <div class="modal-body">
    <div class="row">
    <label class="col-sm-12">
    <strong>Upload Documentation</strong>
    </label>
    <div class="col-sm-12">
    <div flow-init="utModal.documentUploadFile" flow-file-added="utModal.documentFileAdded($file, $flow)" flow-file-success="utModal.documentFileUploaded($message,$file,$flow)" flow-files-submitted="utModal.documentFileSelected($file,$flow)" flow-file-error="utModal.documentFileError( $file, $message, $flow )">
    <div class="row">
    <div class="col-sm-3">
    <button type='button' class='btn btn-single gray_bt' id="Document" ng-model="utModal.obj.document" flow-btn style="margin-bottom:0px !important" name="Document" ng-disabled="utModal.disableDocumentUploadButton">Choose File</button>
    </div>
    <div class="col-sm-9">
    <label class="control-label">
    <a ng-show="utModal.obj.unauthorizedDocument != null" style="color: blue;text-decoration: underline" ng-href="{{utModal.baseUrl}}file/download/{{utModal.companyCode}}/u/{{utModal.obj.unauthorizedDocument}}">
    document{{utModal.obj.unauthorizedDocument|extension}}
    </a>
    <a href=""><i class="fa fa-close" ng-show="utModal.obj.unauthorizedDocument != null" ng-click="utModal.clearDocument()"></i></a>
    </label>
    </div>
    </div>
    <div>
    <div ng-show="utModal.docFileObj.errorMsg != null && utModal.docFileObj.errorMsg != ''">
    <span class="red">{{utModal.docFileObj.errorMsg}}</span>
    </div> 
    </div>
    <div flow-transfers class="form-control-static" ng-show="transfers != null && transfers.length > 0 && transfers[0].progress() < 1">
    <div ng-repeat="file in transfers">
    <div id="docFileprogress" class="progress" ng-show="file.progress() < 1 && utModal.documentShowfileProgress">
    <div  class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: {{file.progress() * 100}}%;">
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="row col-md-12" style="margin-top:12px;">
    <label><strong>Cleared For</strong></label>
    </div>
    <div class="row col-md-12">
    <input type="checkbox" name="payroll" ng-model="utModal.obj.forPayroll">
    <label>Payroll</label>
    </div>
    <div class="row col-md-12">

    <input type="checkbox" name="billing" ng-model="utModal.obj.forBilling">
    <label>Billing</label>
    </div>
    </div>
    <div class="row"/>
    <div class="modal-footer">
    <button type="submit" class="btn btn-success" ng-click="utModal.approve();">Approve</button>
    </div>
    </form>
</script>
<script type="text/ng-template" id="modal-6">



    <div class="modal-body">
    <div class="row">
    <div class="user_panel col-md-12">
    <div class="emp_user_hd">
    <div class="emp_user_name">{{selectPatientModel.patient.lName}}, {{selectPatientModel.patient.fName}} {{selectPatientModel.patient.middleInitial}}</div>
    <p>{{selectPatientModel.patient.insuranceProviderName}}</p>
    </div>
    <button type="button" class="close" ng-click="selectPatientModel.close();" aria-hidden="true">&times;</button>
    </div>

    </div>
    <hr/>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Gender</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.gender==='M'?'Male':'Female'}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Insurer</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.insuranceProviderName}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Insurance ID</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.insuranceId}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Phone Number</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.phone | tel}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row" ng-if="selectPatientModel.patient.phone2!=null">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Phone 2</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.phone2 | tel}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Languages Spoken</strong></label>
    <div class="col-md-8">
    <span ng-if="selectPatientModel.patient.languagesSpoken== null || selectPatientModel.patient.languagesSpoken.length==0">N/A</span>
    <span ng-repeat="language in selectPatientModel.patient.languagesSpoken">{{languages[language]}}<label ng-if="$index<selectPatientModel.patient.languagesSpoken.length-1">, </label>
    </span>
    </div>
    </div>	

    </div>
    </div>

    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Address</strong></label>
    <div class="col-md-8" ng-show="selectPatientModel.patient.patientAddress">
    {{selectPatientModel.patient.patientAddress.address1}}
    <div ng-if="selectPatientModel.patient.patientAddress.address2 != null">
    {{selectPatientModel.patient.patientAddress.address2}}
    </div> 
    <div>{{selectPatientModel.patient.patientAddress.city}}, {{selectPatientModel.patient.patientAddress.state}}, {{selectPatientModel.patient.patientAddress.zipcode}}</div>
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Date Of Birth</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.dateOfBirth|date :dateFormat}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Coordinator</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.staffingCordinatorName}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Nurse Case Manager</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.nurseCaseManagerName}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Care Coordinator</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.careCordinator}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>C.C. Phone</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.careCordinatorContact | tel}}
    <span ng-if="selectPatientModel.patient.careCordinatorExtension"> ext. {{selectPatientModel.patient.careCordinatorExtension}}</span>
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>C.C. Email</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.careCordinatorEmail}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>C.C. Fax</strong></label>
    <div class="col-md-8">
    {{selectPatientModel.patient.careCordinatorFax | tel}} 
    </div>
    </div>	

    </div>
    </div>
    <div class="row" ng-if="selectPatientModel.patient.patientCareTypeCollection && selectPatientModel.patient.patientCareTypeCollection.length>0">
    <div class="col-md-12">

    <div class="form-group">
    <label for="field-1" class="control-label col-md-4"><strong>Authorized Services</strong></label>
    <div class="col-md-8">
    <span ng-repeat="care in selectPatientModel.patient.patientCareTypeCollection">
    {{care.insuranceCareTypeId.companyCaretypeId.careTypeTitle}}
    <span ng-if="care.authorizedHours">
    ( {{care.authorizedHours}} hours )
    </span>
    <br>
    </span>
    </div>
    </div>	

    </div>
    </div>
    </div>

    <div class="modal-footer">
    <button type="button" class="btn btn-white" ng-click="selectPatientModel.close();">Close</button>
    </div>
</script>
<script type="text/javascript">
            function hide(obj) {
            $(obj).next().popover('show');
                    $(obj).popover({
            content: $(obj).next().contents(),
                    html: true
            })
            }
</script>