<div class="page-title full-width" ng-if="layoutOptions.pageTitles" title="Calendar" description="Events management calendar">
    <div class="title-env">
        <h1 class="title">Calendar</h1>
        <p class="description">Events management calendar</p>
    </div>
</div>

<div style="background:white;">

    <div class="mwl-toolbar">
        <div class="mwl-left input-group btn-date-group">
            <button type="button" class="btn btn-default btn-sm btn-date"  ng-click="calendar.showDatepicker()"><i class="glyphicon glyphicon-calendar"></i></button>
            <h2>{{ calendar.calendarTitle}}</h2>
            <datepicker ng-model="calendar.calendarDay" show-weeks="true" class="well well-sm overly-datepicker" ng-class="{'show':calendar.isOpen,'hide':!calendar.isOpen}"></datepicker>
        </div>
        <div class="mwl-right">
            <div class="mwl-button-group">
                <button type="button" class="mwl-month-button mwl-button mwl-state-default" ng-click="calendar.changeToMonth()" ng-class="{'mwl-state-active': calendar.calendarView == 'month'}">month</button>
                <button type="button" class="mwl-agendaWeek-button mwl-button mwl-state-default" ng-click="calendar.changeToWeek()" ng-class="{'mwl-state-active': calendar.calendarView == 'week'}">week</button>
            </div>
            <div class="mwl-button-group">
                <button type="button" class="mwl-prev-button mwl-button mwl-state-default mwl-corner-left" mwl-date-modifier date="calendar.calendarDay" decrement="calendar.calendarView"><span class="mwl-icon mwl-icon-prev fa-angle-left" ></span></button>
                <button type="button" class="mwl-next-button mwl-button mwl-state-default mwl-corner-right" mwl-date-modifier date="calendar.calendarDay" increment="calendar.calendarView"><span class="mwl-icon mwl-icon-next fa-angle-right"></span></button>
            </div>
        </div>
        <div class="mwl-center"></div>
        <div class="mwl-clear"></div>
    </div>


    <div class="mwl-panel-search" ng-if="calendar.calendarView == 'month'">
        <div class="mwl-left">
            <h2>Karl Pierre <small>Designation</small></h2>
        </div>
        <div class="mwl-right col-md-4">
            <div>
                <div class="input-group input-group-minimal">
                    <input type="email" class="form-control" placeholder="Search for somethingâ€¦">
                    <span class="input-group-addon">
                        <i class="linecons-search"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <div class="mwl-panel-filter row" ng-if="calendar.calendarView == 'week'">
        <div class="row">
            <div class="col-md-4">
                <label>Employees</label>
                <script type="text/javascript">
                    jQuery(document).ready(function ($)
                    {
                        setTimeout(function () {
                            $("#employeeIds").select2({
                                // minimumResultsForSearch: -1,
                                placeholder: 'Select Employee...',
                                // minimumInputLength: 1,
                                // placeholder: 'Search',
                            }).on('select2-open', function ()
                            {
                                // Adding Custom Scrollbar
                                $(this).data('select2').results.addClass('overflow-hidden').perfectScrollbar();
                            });
                        }, 200);
                    });</script>
                <select multiple class="form-control" name ="employeeIds" id="employeeIds" ng-model="calendar.searchParams.employeeIds" ng-options='emp.id as (emp.lName+", "+emp.fName+" "+emp.middleInitial) for emp in calendar.employeeList'>
                    <option value="" selected hidden />
                </select>
            </div>
            <div class="col-md-4">
                <label>Position</label>
                 <script type="text/javascript">
                    jQuery(document).ready(function ($)
                    {
                        setTimeout(function () {
                            $("#positions").select2({
                                
                                placeholder: 'Select Position...',
                                
                            }).on('select2-open', function ()
                            {
                                // Adding Custom Scrollbar
                                $(this).data('select2').results.addClass('overflow-hidden').perfectScrollbar();
                            });
                        }, 200);
                    });</script>
                <select multiple class="form-control" name ="positions" id="positions" ng-model="calendar.searchParams.positionIds" ng-options='position.id as position.position for position in calendar.positions'>
                </select>
            </div>
            <div class="col-md-4">
                <label>Languages</label>
                       <script type="text/javascript">
                    jQuery(document).ready(function ($)
                    {
                        setTimeout(function () {
                            $("#languages").select2({
                                
                                placeholder: 'Select Language...',
                                
                            }).on('select2-open', function ()
                            {
                                // Adding Custom Scrollbar
                                $(this).data('select2').results.addClass('overflow-hidden').perfectScrollbar();
                            });
                        }, 200);
                    });</script>
                <select multiple name ="languages" id="languages" class="form-control" ng-model="calendar.searchParams.languages" ng-options="key as value for (key,value) in languages">
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <label>From</label>
                <div class="input-group">
                    <input type="text" id="field-68" name='fromDate' class="form-control datepicker" data-format="mm/dd/yyyy" ng-model="calendar.searchParams.availableStartDate" max-date="calendar.searchParams.availableEndDate">
                    <div class="input-group-addon"> <a href="#"><i class="linecons-calendar"></i></a> </div>
                </div>
            </div>
            <div class="col-md-4">
                <label>To</label>
                <div class="input-group">
                    <input type="text" id="field-69" class="form-control datepicker" data-format="mm/dd/yyyy" ng-model="calendar.searchParams.availableEndDate" min-date="calendar.searchParams.availableStartDate">
                    <div class="input-group-addon"> <a href="#"><i class="linecons-calendar"></i></a> </div>
                </div>
            </div>
            <div class="col-md-4 filter-checkbox">
                <div class="col-md-6">
                    <label>Live In</label>
                    <input type="checkbox" name="livein" ng-model="calendar.searchParams.forLiveIn">
                </div>
                <div class="col-md-6">

                    <button type="button" class="btn btn-success pull-right"  ng-click="calendar.applySearch()">Submit</button>
                    <button style="margin-right: 10px" class="btn btn-single btn-white btn-block-xs pull-right" type="button" ng-click="calendar.resetFilters()">Reset Filters</button>
                </div>
            </div>
        </div>
    </div>

    <mwl-calendar
        events="calendar.events"
        view="calendar.calendarView"
        view-title="calendar.calendarTitle"
        current-day="calendar.calendarDay"
        on-event-click="eventClicked(calendarEvent)"
        list="calendar.employee_list"
        total-items="calendar.totalRecords",
        current-page="calendar.pageNo">
    </mwl-calendar>
    <div ng-if="calendar.calendarView == 'week'">
        <div id="paginationButtons" class="text-right">
            <dir-pagination-controls boundary-links="true" 
                                     max-size="9"
                                     template-url="app/tpls/dirPagination.tpl.html" pagination-id="drinksPagination" on-page-change="calendar.pageChanged(newPageNumber)"></dir-pagination-controls>
        </div>
    </div>
</div>
